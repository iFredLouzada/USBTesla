{% extends "base.html" %}

{% block theme_vars %}
<style id="themeStyles">
    :root {
        --bg-color: #ffffff;
        --card-bg: #ffffff;
        --text-color: #000000;
        --primary-color: #000000;
        --hover-color: #333333;
        --border-color: #e0e0e0;
        --error-bg: #fff5f5;
        --error-color: #c53030;
        --active-bg: #f7fafc;
        --meta-color: #718096;
    }
</style>
{% endblock %}

{% block styles %}
<style>
    * { box-sizing: border-box; }
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 0;
        padding: 32px 20px;
        background: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        max-width: 800px;
        margin: 0 auto;
    }
    h1 {
        font-size: 24px;
        font-weight: 500;
        margin: 0 0 32px 0;
    }
    .template-selector {
        margin-bottom: 32px;
        padding-bottom: 32px;
        border-bottom: 1px solid var(--border-color);
        display: flex;
        gap: 32px;
    }
    .selector-group {
        flex: 1;
    }
    .selector-group label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    select {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--border-color);
        background: white;
        font-size: 14px;
    }
    .error-banner {
        margin-bottom: 32px;
        padding: 16px;
        background: var(--error-bg);
        color: var(--error-color);
        font-size: 14px;
    }
    .file-list {
        border: 1px solid var(--border-color);
    }
    .file-item {
        display: flex;
        align-items: center;
        padding: 16px;
        border-bottom: 1px solid var(--border-color);
        gap: 16px;
    }
    .file-item:last-child {
        border-bottom: none;
    }
    .file-item.active {
        background: var(--active-bg);
    }
    .play-btn {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid currentColor;
        background: none;
        cursor: pointer;
        color: var(--text-color);
        font-size: 14px;
    }
    .play-btn:hover {
        background: var(--text-color);
        color: var(--bg-color);
    }
    .file-info {
        flex: 1;
        min-width: 0;
    }
    .file-name {
        margin: 0;
        font-size: 14px;
        font-weight: normal;
    }
    .file-meta {
        margin-top: 4px;
        font-size: 12px;
        color: var(--meta-color);
    }
    .actions {
        display: flex;
        gap: 8px;
    }
    .btn {
        padding: 8px 16px;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        cursor: pointer;
    }
    .btn-activate {
        background: var(--text-color);
        color: var(--bg-color);
        border: none;
    }
    .btn-delete {
        background: none;
        border: 1px solid currentColor;
        color: var(--error-color);
    }
    .name-prompt {
        position: fixed;
        inset: 0;
        background: rgba(255, 255, 255, 0.95);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .prompt-content {
        width: 100%;
        max-width: 400px;
        padding: 32px;
    }
    .prompt-content h3 {
        margin: 0 0 16px 0;
        font-size: 18px;
        font-weight: normal;
    }
    .prompt-input {
        width: 100%;
        padding: 8px;
        margin: 16px 0;
        border: 1px solid var(--border-color);
        font-size: 14px;
    }
    @media (max-width: 640px) {
        .template-selector {
            flex-direction: column;
            gap: 16px;
        }
        .file-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
        }
        .actions {
            width: 100%;
            justify-content: flex-end;
        }
    }
</style>
{% endblock %}

{% block theme_definitions %}
<script>
const themes = {
    default: {
        '--bg-color': '#ffffff',
        '--card-bg': '#ffffff',
        '--text-color': '#000000',
        '--primary-color': '#000000',
        '--hover-color': '#333333',
        '--border-color': '#e0e0e0',
        '--error-bg': '#fff5f5',
        '--error-color': '#c53030',
        '--active-bg': '#f7fafc',
        '--meta-color': '#718096'
    },
    dark: {
        '--bg-color': '#121212',
        '--card-bg': '#1a1a1a',
        '--text-color': '#ffffff',
        '--primary-color': '#ffffff',
        '--hover-color': '#cccccc',
        '--border-color': '#333333',
        '--error-bg': '#2d1a1a',
        '--error-color': '#f56565',
        '--active-bg': '#1a202c',
        '--meta-color': '#a0aec0'
    },
    light: {
        '--bg-color': '#ffffff',
        '--card-bg': '#ffffff',
        '--text-color': '#1a202c',
        '--primary-color': '#1a202c',
        '--hover-color': '#4a5568',
        '--border-color': '#e5e7eb',
        '--error-bg': '#fff5f5',
        '--error-color': '#c53030',
        '--active-bg': '#f7fafc',
        '--meta-color': '#718096'
    }
};
changeTheme('{{ current_theme }}');
</script>
{% endblock %}